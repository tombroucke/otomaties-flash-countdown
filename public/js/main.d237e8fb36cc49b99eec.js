(()=>{"use strict";class t{constructor(t){this.el=t,this.countdown_to=this.el.data("countdown-to"),this.initialized=!1,this.init()}init(){const t=this;this.countdown=this.el.countdown(this.countdown_to).on("update.countdown",(function(s){var e="%H:%M:%S";s.offset.totalDays>0&&(e="%-d day%!d "+e),s.offset.weeks>0&&(e="%-w week%!w "+e);var i=s.strftime(e);if(jQuery.each(t.translations(),(function(t,s){i=i.replace(t,s)})),jQuery(this).html(i),!this.initialized){const t=new CustomEvent("countdownInitialized");window.dispatchEvent(t),this.initialized=!0}})).on("finish.countdown",(function(t){jQuery(this).parent().parent().slideUp()}))}translations(){return{"day ":flash_countdown_vars.strings.day+" ","days ":flash_countdown_vars.strings.days+" ","week ":flash_countdown_vars.strings.week+" ","weeks ":flash_countdown_vars.strings.weeks+" "}}}class s{constructor(t){this.el=jQuery(t),this.bindEvents(),this.type="static",this.maybeConvert(),this.init()}init(){this.el.addClass("initialized")}bindEvents(){jQuery(window).on("resize",this.maybeConvert.bind(this)),window.addEventListener("countdownInitialized",this.maybeConvert.bind(this))}maybeConvert(){const t=this.el;let s,e=!1;const i=document.querySelector(".flash-message__content");this.isOverflown(i)&&"static"==this.type?(s=jQuery('<marquee class="flash-message--dynamic '+t[0].getAttribute("class")+'" style="'+t[0].getAttribute("style")+'">'+t[0].innerHTML+"</marquee>"),this.type="dynamic",e=!0):this.isOverflown(i)||"dynamic"!=this.type||(s=jQuery('<div class="flash-message--static '+t[0].getAttribute("class")+'" style="'+t[0].getAttribute("style")+'">'+t[0].innerHTML+"</div>"),this.type="static",e=!0),e&&(t.after(s),t.remove(),this.el=s)}isOverflown(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}}jQuery(document).ready((function(e){const i=e(".flash-message__countdown");i.length&&new t(i);const n=e(".flash-message");n.length&&new s(n)}))})();